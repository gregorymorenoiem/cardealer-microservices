# =============================================================================
# MVP SELF-MANAGED - Secrets para Microservicios
# =============================================================================
# Todos los servicios usan la misma instancia PostgreSQL pero diferentes DBs
# Host: postgres (nombre del service de K8s)
# =============================================================================

---
# Auth Service
apiVersion: v1
kind: Secret
metadata:
  name: authservice-db-secret
  namespace: okla
type: Opaque
stringData:
  Database__Provider: "PostgreSQL"
  Database__Host: "postgres"
  Database__Port: "5432"
  Database__Database: "authservice"
  Database__Username: "postgres"
  Database__Password: "OklaDB2025!"
  Database__AutoMigrate: "true"
  Database__ConnectionStrings__PostgreSQL: "Host=postgres;Port=5432;Database=authservice;Username=postgres;Password=OklaDB2025!;Include Error Detail=true"
  ConnectionStrings__DefaultConnection: "Host=postgres;Port=5432;Database=authservice;Username=postgres;Password=OklaDB2025!;Include Error Detail=true"

---
# User Service
apiVersion: v1
kind: Secret
metadata:
  name: userservice-db-secret
  namespace: okla
type: Opaque
stringData:
  Database__Provider: "PostgreSQL"
  Database__Host: "postgres"
  Database__Port: "5432"
  Database__Database: "userservice"
  Database__Username: "postgres"
  Database__Password: "OklaDB2025!"
  Database__AutoMigrate: "true"
  Database__ConnectionStrings__PostgreSQL: "Host=postgres;Port=5432;Database=userservice;Username=postgres;Password=OklaDB2025!;Include Error Detail=true"
  ConnectionStrings__DefaultConnection: "Host=postgres;Port=5432;Database=userservice;Username=postgres;Password=OklaDB2025!;Include Error Detail=true"

---
# Role Service
apiVersion: v1
kind: Secret
metadata:
  name: roleservice-db-secret
  namespace: okla
type: Opaque
stringData:
  Database__Provider: "PostgreSQL"
  Database__Host: "postgres"
  Database__Port: "5432"
  Database__Database: "roleservice"
  Database__Username: "postgres"
  Database__Password: "OklaDB2025!"
  Database__AutoMigrate: "true"
  Database__ConnectionStrings__PostgreSQL: "Host=postgres;Port=5432;Database=roleservice;Username=postgres;Password=OklaDB2025!;Include Error Detail=true"
  ConnectionStrings__DefaultConnection: "Host=postgres;Port=5432;Database=roleservice;Username=postgres;Password=OklaDB2025!;Include Error Detail=true"

---
# Vehicles Sale Service
apiVersion: v1
kind: Secret
metadata:
  name: vehiclessaleservice-db-secret
  namespace: okla
type: Opaque
stringData:
  Database__Provider: "PostgreSQL"
  Database__Host: "postgres"
  Database__Port: "5432"
  Database__Database: "vehiclessaleservice"
  Database__Username: "postgres"
  Database__Password: "OklaDB2025!"
  Database__AutoMigrate: "true"
  Database__ConnectionStrings__PostgreSQL: "Host=postgres;Port=5432;Database=vehiclessaleservice;Username=postgres;Password=OklaDB2025!;Include Error Detail=true"
  ConnectionStrings__DefaultConnection: "Host=postgres;Port=5432;Database=vehiclessaleservice;Username=postgres;Password=OklaDB2025!;Include Error Detail=true"

---
# Media Service
apiVersion: v1
kind: Secret
metadata:
  name: mediaservice-db-secret
  namespace: okla
type: Opaque
stringData:
  Database__Provider: "PostgreSQL"
  Database__Host: "postgres"
  Database__Port: "5432"
  Database__Database: "mediaservice"
  Database__Username: "postgres"
  Database__Password: "OklaDB2025!"
  Database__AutoMigrate: "true"
  Database__ConnectionStrings__PostgreSQL: "Host=postgres;Port=5432;Database=mediaservice;Username=postgres;Password=OklaDB2025!;Include Error Detail=true"
  ConnectionStrings__DefaultConnection: "Host=postgres;Port=5432;Database=mediaservice;Username=postgres;Password=OklaDB2025!;Include Error Detail=true"

---
# Billing Service
apiVersion: v1
kind: Secret
metadata:
  name: billingservice-db-secret
  namespace: okla
type: Opaque
stringData:
  Database__Provider: "PostgreSQL"
  Database__Host: "postgres"
  Database__Port: "5432"
  Database__Database: "billingservice"
  Database__Username: "postgres"
  Database__Password: "OklaDB2025!"
  Database__AutoMigrate: "true"
  Database__ConnectionStrings__PostgreSQL: "Host=postgres;Port=5432;Database=billingservice;Username=postgres;Password=OklaDB2025!;Include Error Detail=true"
  ConnectionStrings__DefaultConnection: "Host=postgres;Port=5432;Database=billingservice;Username=postgres;Password=OklaDB2025!;Include Error Detail=true"

---
# Notification Service
apiVersion: v1
kind: Secret
metadata:
  name: notificationservice-db-secret
  namespace: okla
type: Opaque
stringData:
  Database__Provider: "PostgreSQL"
  Database__Host: "postgres"
  Database__Port: "5432"
  Database__Database: "notificationservice"
  Database__Username: "postgres"
  Database__Password: "OklaDB2025!"
  Database__AutoMigrate: "true"
  Database__ConnectionStrings__PostgreSQL: "Host=postgres;Port=5432;Database=notificationservice;Username=postgres;Password=OklaDB2025!;Include Error Detail=true"
  ConnectionStrings__DefaultConnection: "Host=postgres;Port=5432;Database=notificationservice;Username=postgres;Password=OklaDB2025!;Include Error Detail=true"

---
# Error Service
apiVersion: v1
kind: Secret
metadata:
  name: errorservice-db-secret
  namespace: okla
type: Opaque
stringData:
  Database__Provider: "PostgreSQL"
  Database__Host: "postgres"
  Database__Port: "5432"
  Database__Database: "errorservice"
  Database__Username: "postgres"
  Database__Password: "OklaDB2025!"
  Database__AutoMigrate: "true"
  Database__ConnectionStrings__PostgreSQL: "Host=postgres;Port=5432;Database=errorservice;Username=postgres;Password=OklaDB2025!;Include Error Detail=true"
  ConnectionStrings__DefaultConnection: "Host=postgres;Port=5432;Database=errorservice;Username=postgres;Password=OklaDB2025!;Include Error Detail=true"

---
# JWT Secrets (compartido por todos los servicios)
apiVersion: v1
kind: Secret
metadata:
  name: jwt-secrets
  namespace: okla
type: Opaque
stringData:
  Jwt__Key: "OklaSecretKey2025VeryLongAndSecure123456789!"
  Jwt__Issuer: "okla-api"
  Jwt__Audience: "okla-clients"
  Jwt__ExpirationMinutes: "60"
  Jwt__RefreshExpirationDays: "7"

---
# Redis Connection
apiVersion: v1
kind: Secret
metadata:
  name: redis-secrets
  namespace: okla
type: Opaque
stringData:
  ConnectionStrings__Redis: "redis:6379"
