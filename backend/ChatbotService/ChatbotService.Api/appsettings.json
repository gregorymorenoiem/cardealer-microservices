{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "DefaultConnection": "Host=postgres;Database=chatbotservice;Username=postgres;Password=postgres"
  },
  "Jwt": {
    "Issuer": "okla.com.do",
    "Audience": "okla.com.do",
    "Key": "${JWT_SECRET_KEY}"
  },
  "Services": {
    "VehiclesSaleService": {
      "Url": "http://vehiclessaleservice:8080"
    },
    "NotificationService": {
      "Url": "http://notificationservice:8080"
    }
  },
  "LlmService": {
    "ServerUrl": "http://llm-server:8000",
    "ModelId": "okla-llama3-8b",
    "LanguageCode": "es",
    "TimeoutSeconds": 60,
    "Temperature": 0.3,
    "TopP": 0.9,
    "MaxTokens": 400,
    "RepetitionPenalty": 1.15,
    "SystemPrompt": "Eres OKLA Assistant, el asistente virtual oficial de OKLA, la plataforma de compra y venta de vehículos en República Dominicana. Respondes en español dominicano profesional."
  },
  "Chatbot": {
    "DefaultMaxInteractionsPerSession": 10,
    "DefaultMaxInteractionsPerUserPerDay": 50,
    "DefaultMaxGlobalInteractionsPerMonth": 100000,
    "FreeInteractionsPerMonth": 180,
    "CostPerInteraction": 0.002,
    "SessionTimeoutMinutes": 30,
    "AutoCloseInactiveSessionsAfterMinutes": 60
  },
  "Maintenance": {
    "EnableAutomatedTasks": true,
    "InventorySyncCron": "0 */4 * * *",
    "DailyReportCron": "0 6 * * *",
    "HealthCheckCron": "*/15 * * * *",
    "AutoLearningCron": "0 2 * * 0",
    "SessionCleanupCron": "0 3 * * *"
  },
  "RabbitMQ": {
    "Host": "rabbitmq",
    "Port": 5672,
    "Username": "guest",
    "Password": "guest",
    "VirtualHost": "/",
    "ExchangeName": "chatbot.events"
  },
  "Redis": {
    "ConnectionString": "redis:6379",
    "InstanceName": "chatbot:"
  },
  "Embedding": {
    "ServerUrl": "http://llm-server:8000",
    "ModelName": "all-MiniLM-L6-v2",
    "Dimensions": 384,
    "BatchSize": 50,
    "TimeoutSeconds": 30
  },
  "WhatsApp": {
    "VerifyToken": "${WHATSAPP_VERIFY_TOKEN}",
    "AccessToken": "${WHATSAPP_ACCESS_TOKEN}",
    "PhoneNumberId": "${WHATSAPP_PHONE_NUMBER_ID}",
    "ApiBaseUrl": "https://graph.facebook.com/v18.0",
    "AllowedCountryCodes": ["+1809", "+1829", "+1849"],
    "RateLimitPerMinute": 10
  },
  "Cors": {
    "AllowedOrigins": [
      "http://localhost:3000",
      "http://localhost:5173",
      "https://okla.com.do",
      "https://www.okla.com.do"
    ]
  }
}
