# Dockerfile.dev for LeadScoringService
FROM mcr.microsoft.com/dotnet/sdk:8.0

WORKDIR /app

# Copiar proyectos compartidos
COPY _Shared/CarDealer.Contracts/ /app/_Shared/CarDealer.Contracts/
COPY _Shared/CarDealer.Shared/ /app/_Shared/CarDealer.Shared/

# Copiar proyectos del servicio
COPY LeadScoringService/LeadScoringService.Domain/ /app/LeadScoringService/LeadScoringService.Domain/
COPY LeadScoringService/LeadScoringService.Application/ /app/LeadScoringService/LeadScoringService.Application/
COPY LeadScoringService/LeadScoringService.Infrastructure/ /app/LeadScoringService/LeadScoringService.Infrastructure/
COPY LeadScoringService/LeadScoringService.Api/ /app/LeadScoringService/LeadScoringService.Api/

WORKDIR /app/LeadScoringService/LeadScoringService.Api

RUN dotnet restore

EXPOSE 80

ENV ASPNETCORE_ENVIRONMENT=Development
ENV ASPNETCORE_URLS=http://+:80

ENTRYPOINT ["dotnet", "watch", "run", "--no-launch-profile"]
